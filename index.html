<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>13.12</title>

<style>
*{
margin:0;
padding:0;
box-sizing:border-box;
font-family:'Segoe UI',sans-serif;
}

body{
background:radial-gradient(ellipse at bottom,#0d1b2a 0%,#000000 100%);
overflow:hidden;
color:white;
height:100vh;
display:flex;
justify-content:center;
align-items:center;
text-align:center;
}

/* STAR BACKGROUND */

canvas{
position:fixed;
top:0;
left:0;
z-index:-1;
}

/* LOCK */

#lock{
position:absolute;
}

input{
padding:12px 20px;
border-radius:30px;
border:none;
outline:none;
text-align:center;
font-size:16px;
}

button{
margin-top:15px;
padding:8px 20px;
border:none;
border-radius:20px;
cursor:pointer;
}

.error{
color:#ff6b6b;
margin-top:10px;
opacity:0;
transition:0.4s;
}

/* TEXT */

#story{
position:absolute;
opacity:0;
transition:opacity 1.5s ease;
font-size:2.2rem;
max-width:80%;
}

.swipe{
animation: swipeIn 1s ease forwards;
}

@keyframes swipeIn{
from{transform:translateX(100px); opacity:0;}
to{transform:translateX(0); opacity:1;}
}

/* FINAL */

#final{
position:absolute;
font-size:3rem;
opacity:0;
text-shadow:0 0 20px white;
transition:opacity 2s ease;
}

.pulse{
animation:pulse 2s infinite;
}

@keyframes pulse{
0%{transform:scale(1);}
50%{transform:scale(1.1);}
100%{transform:scale(1);}
}
</style>
</head>

<body>

<canvas id="stars"></canvas>

<div id="lock">
<h2>Wann haben wir uns das erste mal Geliebt?</h2>
<input type="password" id="pw">
<button onclick="check()">Öffnen</button>
<div class="error" id="err">Du weißt es doch… ❤️</div>
</div>

<div id="story"></div>
<div id="final">Ich liebe dich.</div>

<script>

/* PASSWORD */

function check(){
let val=document.getElementById("pw").value;
if(val==="13.12"){
document.getElementById("lock").style.display="none";
document.getElementById("story").style.opacity="1";
start();
}else{
let e=document.getElementById("err");
e.style.opacity="1";
setTimeout(()=>e.style.opacity="0",2000);
}
}

/* STORY SWIPE */

const texts=[
"Es gibt Momente...",
"...die alles verändern.",
"Seit dem 13.12. ist nichts mehr wie vorher.",
"Du bist mein Zuhause.",
"Du bist mein Frieden.",
"Du bist mein für immer."
];

let i=0;
function start(){
show();
}

function show(){
if(i<texts.length){
let s=document.getElementById("story");
s.classList.remove("swipe");
void s.offsetWidth;
s.innerHTML=texts[i];
s.classList.add("swipe");
i++;
}else{
setTimeout(finale,2000);
}
}

document.addEventListener("click",()=>{
if(i<texts.length) show();
});

/* FINAL */

function finale(){
document.getElementById("story").style.display="none";
let f=document.getElementById("final");
f.style.opacity="1";
f.classList.add("pulse");
explode();
}

/* STAR EXPLOSION */

function explode(){
for(let i=0;i<40;i++){
let star=document.createElement("div");
star.style.position="absolute";
star.style.width="3px";
star.style.height="3px";
star.style.background="white";
star.style.borderRadius="50%";
star.style.left="50%";
star.style.top="50%";
star.style.transition="1s ease-out";
document.body.appendChild(star);

setTimeout(()=>{
star.style.left=(50+(Math.random()*40-20))+"%";
star.style.top=(50+(Math.random()*40-20))+"%";
star.style.opacity="0";
},10);

setTimeout(()=>star.remove(),1000);
}
}

/* STARFIELD */

const canvas=document.getElementById("stars");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

let stars=[];
for(let i=0;i<200;i++){
stars.push({
x:Math.random()*canvas.width,
y:Math.random()*canvas.height,
r:Math.random()*1.5,
d:Math.random()*0.5
});
}

function draw(){
ctx.clearRect(0,0,canvas.width,canvas.height);
ctx.fillStyle="white";
stars.forEach(s=>{
ctx.beginPath();
ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
ctx.fill();
});
move();
}

function move(){
stars.forEach(s=>{
s.y+=s.d;
if(s.y>canvas.height){
s.y=0;
s.x=Math.random()*canvas.width;
}
});
}

setInterval(draw,33);

/* SHOOTING STAR */

setInterval(()=>{
let x=Math.random()*canvas.width;
let y=Math.random()*canvas.height/2;
let length=100;
ctx.beginPath();
ctx.moveTo(x,y);
ctx.lineTo(x+length,y+length);
ctx.strokeStyle="white";
ctx.lineWidth=2;
ctx.stroke();
},4000);

</script>

</body>
</html>